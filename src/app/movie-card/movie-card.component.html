<div class="movie-container">
    <!-- Image Modal (initially hidden) -->
    <div class="image-modal" *ngIf="showModal">
        <img [src]="currentImageSrc" alt="Full Size Image" (click)="closeImageModal()"/>
        <button (click)="closeImageModal()">Close</button>
    </div>

    <div class="movie-scroll">
        <mat-card *ngFor="let movie of movies" class="movie-card">
        <!-- Image with click event -->
        <img 
            class="movie-image" 
            src="{{movie?.ImageURL}}" 
            alt="{{movie?.Title}}" 
            (click)="openImageModal(movie?.ImageURL)" />

        <!-- Then the title and director's name -->
        <mat-card-header>
            <mat-card-title>{{movie?.Title}}</mat-card-title>
            <mat-card-subtitle>Genre: {{movie?.Genre?.Name}}</mat-card-subtitle>
            <mat-card-subtitle>Directed by: {{movie?.Director?.Name}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-actions>
            <button 
                mat-button 
                color="primary" 
                [matTooltip]="movie?.Genre?.Description" 
                (click)="openInfoDialog(movie?.Genre?.Name, movie?.Genre?.Description)">
                Genre
            </button>
            <button 
                mat-button 
                color="primary" 
                [matTooltip]="movie?.Director?.Bio" 
                (click)="openInfoDialog(movie?.Director?.Name, movie?.Director?.Bio)">
                Director
            </button>
            <button 
                mat-button 
                color="primary" 
                [matTooltip]="movie?.Description" 
                (click)="openInfoDialog('Synopsis', movie?.Description)">
                Synopsis
            </button>
        
            <span (click)="toggleFavorite(movie)">
                <mat-icon [ngClass]="{'is-favorite': isFavorite(movie?._id)}" class="favorite-icon">favorite</mat-icon>
            </span>
        </mat-card-actions>
    </mat-card>
</div>
